<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Youtube Downloader</title>
	<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
	
	<link rel="stylesheet" href="css/bulma.min.css">
	<link rel="stylesheet" href="css/scrollbar.css">
	<style>
		html {
			overflow: auto;
		}
		.moto {
			margin: auto;
		}
		.hidden {
			display: none;
		}
	</style>
</head>
<body id="simple-scrollbar">
	<section class="section">
		<div class="container">
			
			<div class="columns">
				<div class="column is-4 is-offset-4">
					<div id="setBox" class="box">
						<h1 class="title has-text-centered">Téléchargeur de videos Youtube</h1>
			
						<div class="field">
							<label class="label">Lien de la video</label>
				
							<div class="control">
								<input class="input" id="videoURL" placeholder="https://www.youtube.com/watch?v=TPZ50D6QNFA">
							</div>
						</div>

						<div class="field">
							<label class="label">Dossier</label>
				
							<div class="control">
								<button class="button is-info has-text-centered" 
									style="width: 100%;"
									onclick="chooseFolder()">
									Choisir un dossier
								</button>
								<input class="input" readonly type="text" id="folderPath">
							</div>
						</div>

						<div class="field">
							<label class="label">Nom du fichier</label>
				
							<div class="control">
								<input class="input" value="maVideo" id="fileName" placeholder="monFichier">
							</div>
						</div>
		
						<div class="notification is-danger" id="errorDiv" style="display: none;">
							<button class="delete" id="hideErrorButton"></button>
							<div id="errorText">
								Texte d'erreur
							</div>
						</div>

						<div class="field">
							<label class="label">Options</label>
				
							<div class="select is-rounded">
								<select id="inputOptions">
									<option value="mp4">Video, téléchargement rapide</option>
									<option value="mp4-hd">Video, qualité maximum</option>
									<option value="mp3">Audio, mp3</option>
								</select>
							</div>
						</div>
			
						<div class="control">
							<button class="button is-primary is-fullwidth" id="startDownload">Télécharger</button>
						</div>
					</div>
					<div id="waitBox" class="box" style="display: none;">
						<label class="label has-text-centered">Traitement en cours</label>
						<progress id="progressStandalone" class="progress is-medium is-dark" max="100"></progress>
					</div>
					<div id="percentsBox" class="box" style="display: none;">
						<h3 class="title">Traitement en cours</h3>
						<label class="label has-text-centered">Video</label>
						<progress id="progressVideo" class="progress is-primary" max="100"></progress>
						<label class="label has-text-centered">Audio</label>
						<progress id="progressAudio" class="progress is-link" max="100"></progress>
					</div>
					<div id="endBox" class="box" style="display: none;">
						<label class="label is-large has-text-centered">C'est fini !</label>
						<div class="field">				
							<div class="control">
								<button class="button is-primary has-text-centered" 
									style="width: 100%;"
									onclick="resetPage()">
									Télécharger une autre video
								</button>
							</div>
						</div>
						<div class="field">				
							<div class="control">
								<button class="button is-link has-text-centered" 
									style="width: 100%;"
									onclick="openFolder()">
									Ouvrir le dossier pour voir la video
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="columns">
				<div class="column is-4 is-offset-4">

					<div class="notification is-info hidden" id="notification">
						<button id="close-button" class="delete" onClick="closeNotification()"></button>
						<p id="message" style="font-size: 20px;">Les informations de mises a jour apparaîtront ici.</p>
						<br>
						<div style="display: flex; width: 100%;">
							<button id="restart-button" onClick="restartApp()" class="button is-primary moto hidden">
								Relancer
							</button>
						</div>
					</div>

				</div>
			</div>
		</div>
	</section>
	<footer id="version" style="position: fixed; bottom: 5px; right: 5px;"></footer>
	<script src="js/downloader.js"></script>
	<script src="js/updatesNotifs.js"></script>
</body>
</html>
